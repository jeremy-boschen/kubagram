<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KubeViz Demo - Kubernetes Visualization</title>
    <link href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css" rel="stylesheet">
    <style>
        .diagram-container {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            overflow: auto;
            margin-bottom: 20px;
        }
        
        .mermaid-container {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            overflow: auto;
        }
        
        svg {
            max-width: 100%;
            height: auto;
        }
        
        .zoom-controls {
            margin-bottom: 10px;
        }
        
        .zoom-controls button {
            margin-right: 5px;
        }
        
        .toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
    </style>
</head>
<body data-bs-theme="dark">
    <div class="container py-4">
        <header class="pb-3 mb-4 border-bottom">
            <div class="d-flex align-items-center text-body-emphasis text-decoration-none">
                <h1 class="fs-4">KubeViz - Demo Visualization</h1>
                <span class="ms-auto">
                    <a href="/" class="btn btn-outline-secondary">Back to Home</a>
                </span>
            </div>
        </header>
        
        <div class="row mb-3">
            <div class="col">
                <h2>Sample Kubernetes Cluster Visualization</h2>
                <p class="lead">This is a sample visualization of a Kubernetes cluster with various resources and their relationships.</p>
                
                <div class="toolbar">
                    <div class="btn-group" role="group" aria-label="Diagram format">
                        <button type="button" class="btn btn-primary active" onclick="showTab('mermaid-tab')">Mermaid</button>
                        <button type="button" class="btn btn-primary" onclick="showTab('svg-tab')">SVG</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tab-content">
            <div id="mermaid-tab" class="tab-pane active">
                <div class="mermaid-container">
                    <div class="mermaid">
graph TB
    Namespace_default[/Namespace: default\]
    Deployment_default_frontend[Deployment: frontend]
    Deployment_default_backend[Deployment: backend]
    Service_default_frontend_svc{{Service: frontend-svc}}
    Service_default_backend_svc{{Service: backend-svc}}
    Service_default_db_svc{{Service: db-svc}}
    Pod_default_frontend_74d8bd6f54_a1b2c((Pod: frontend-74d8bd6f54-a1b2c))
    Pod_default_frontend_74d8bd6f54_d3e4f((Pod: frontend-74d8bd6f54-d3e4f))
    Pod_default_backend_5678cd9012_g4h5i((Pod: backend-5678cd9012-g4h5i))
    Pod_default_backend_5678cd9012_j6k7l((Pod: backend-5678cd9012-j6k7l))
    Pod_default_db_statefulset_0((Pod: db-statefulset-0))
    Pod_default_db_statefulset_1((Pod: db-statefulset-1))
    StatefulSet_default_db_statefulset[StatefulSet: db-statefulset]
    ConfigMap_default_app_config[\ConfigMap: app-config\]
    Secret_default_db_credentials[\Secret: db-credentials\]
    PersistentVolumeClaim_default_db_data_0[(PVC: db-data-0)]
    PersistentVolumeClaim_default_db_data_1[(PVC: db-data-1)]
    Ingress_default_web_ingress>Ingress: web-ingress]
    
    %% Relationships
    Deployment_default_frontend --> |creates| Pod_default_frontend_74d8bd6f54_a1b2c
    Deployment_default_frontend --> |creates| Pod_default_frontend_74d8bd6f54_d3e4f
    Deployment_default_backend --> |creates| Pod_default_backend_5678cd9012_g4h5i
    Deployment_default_backend --> |creates| Pod_default_backend_5678cd9012_j6k7l
    StatefulSet_default_db_statefulset --> |creates| Pod_default_db_statefulset_0
    StatefulSet_default_db_statefulset --> |creates| Pod_default_db_statefulset_1
    Service_default_frontend_svc -.-> |selects| Pod_default_frontend_74d8bd6f54_a1b2c
    Service_default_frontend_svc -.-> |selects| Pod_default_frontend_74d8bd6f54_d3e4f
    Service_default_backend_svc -.-> |selects| Pod_default_backend_5678cd9012_g4h5i
    Service_default_backend_svc -.-> |selects| Pod_default_backend_5678cd9012_j6k7l
    Service_default_db_svc -.-> |selects| Pod_default_db_statefulset_0
    Service_default_db_svc -.-> |selects| Pod_default_db_statefulset_1
    Pod_default_db_statefulset_0 --> |uses| PersistentVolumeClaim_default_db_data_0
    Pod_default_db_statefulset_1 --> |uses| PersistentVolumeClaim_default_db_data_1
    Ingress_default_web_ingress ==> |routes to| Service_default_frontend_svc
    Pod_default_frontend_74d8bd6f54_a1b2c -.-> |connects to| Service_default_backend_svc
    Pod_default_backend_5678cd9012_g4h5i -.-> |connects to| Service_default_db_svc
    Pod_default_backend_5678cd9012_j6k7l -.-> |connects to| Service_default_db_svc
    Pod_default_frontend_74d8bd6f54_a1b2c -.-> |mounts| ConfigMap_default_app_config
    Pod_default_frontend_74d8bd6f54_d3e4f -.-> |mounts| ConfigMap_default_app_config
    Pod_default_backend_5678cd9012_g4h5i -.-> |mounts| ConfigMap_default_app_config
    Pod_default_backend_5678cd9012_j6k7l -.-> |mounts| ConfigMap_default_app_config
    Pod_default_db_statefulset_0 -.-> |mounts| Secret_default_db_credentials
    Pod_default_db_statefulset_1 -.-> |mounts| Secret_default_db_credentials
    
    %% Legend
    subgraph Legend
    legend_pod((Pod))
    legend_service{{Service}}
    legend_deployment[Deployment]
    legend_statefulset[StatefulSet]
    legend_ingress>Ingress]
    legend_configmap[\ConfigMap\]
    legend_secret[\Secret\]
    legend_pvc[(PVC)]
    end
                    </div>
                </div>
            </div>
            
            <div id="svg-tab" class="tab-pane" style="display: none;">
                <div class="diagram-container">
                    <img src="https://via.placeholder.com/1000x800?text=Sample+SVG+Visualization" alt="Sample SVG Visualization" class="img-fluid" />
                    <div class="text-center mt-3">
                        <p class="text-muted">This is a placeholder for the SVG visualization</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row mt-4">
            <div class="col">
                <h3>Command Used to Generate This Visualization</h3>
                <pre><code>kubectl kubeviz -n default</code></pre>
                
                <h3>Sample Output</h3>
                <p>When you run the above command, KubeViz will generate a visual representation of your Kubernetes resources in the default namespace, showing how they are related to each other.</p>
                
                <div class="alert alert-info mt-3">
                    <h4 class="alert-heading">Note!</h4>
                    <p>In a real environment, KubeViz would connect to your Kubernetes cluster and generate an accurate visualization of your actual resources.</p>
                    <p>This demo shows a sample visualization of a fictional Kubernetes cluster to demonstrate the capabilities of KubeViz.</p>
                </div>
            </div>
        </div>
        
        <footer class="pt-3 mt-4 text-body-secondary border-top">
            &copy; 2025 KubeViz
        </footer>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({
                startOnLoad: true,
                theme: 'default'
            });
        });
        
        function showTab(tabId) {
            // Hide all tabs
            document.querySelectorAll('.tab-pane').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // Show the selected tab
            document.getElementById(tabId).style.display = 'block';
            
            // Update active state on buttons
            document.querySelectorAll('.btn-group .btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Set the clicked button as active
            document.querySelector(`button[onclick="showTab('${tabId}')"]`).classList.add('active');
        }
    </script>
</body>
</html>